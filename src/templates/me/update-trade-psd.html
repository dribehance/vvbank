<div ui-content-for="title">
    <span ng-if="safety_info.trade_password.status == 0">设置交易密码</span>
    <span ng-if="safety_info.trade_password.status != 0">修改交易密码</span>
</div>
<div ui-content-for="backAction">
    <a ng-click="back()" class="btn">返回</a>
</div>
<div ui-content-for="navbarAction">
    <span></span>
</div>
<div class="scrollable">
    <div class="scrollable-content">
        <imageview src="'../images/banner_2.png'" data-rate="640/387"></imageview>
        <form name="updateForm" ng-submit="ajaxForm(this)">
            <div class="section">
                <div class="section section-wide" style="margin-bottom:19px">
                    注册手机号码：{{phone}}
                </div>
                <div class="section-wide">
                    <div class="semi-auto semi-right-150">
                        <div class="vv-input-group input-group-lg full-width">
                            <span class="vv-input-group-addon"><i class="vv vv-27 vv-verifycode"></i></span>
                            <input type="text" class="form-control text-big border-radius-large" ng-model="input.smscode" name="smscode" ng-pattern="/^[0-9]+$/" ng-minlength=6 ng-maxlength=6 required placeholder="短信验证码,6位">
                            <span class="vv-input-tip" ng-show="updateForm.smscode.$dirty && updateForm.smscode.$invalid">验证码为6位</span>
                        </div>
                        <div class="semi-fixed-right semi-width-150 input-group input-group-lg text-right">
                            <button type="button" class="btn btn-warning btn-lg" ng-click="getSmscode()" ng-disabled="callbackTimer.counting">
                                <timer id="vvcountdown" interval="1000" countdown="150" auto-start='false' ng-show="callbackTimer.counting" finish-callback="callbackTimer.finish()">{{countdown + 1}}</timer>
                                获取验证码
                            </button>
                        </div>
                    </div>
                </div>
                <div class="section-wide">
                    <div class="vv-input-group input-group-lg full-width">
                        <span class="vv-input-group-addon"><i class="vv vv-27 vv-me-664"></i></span>
                        <input type="text" class="form-control border-radius-large" name="identify" ng-model="input.identify" indentification required placeholder="请输入身份证号码">
                        <span class="vv-input-tip" ng-show="updateForm.identify.$dirty && updateForm.identify.$error.required">必填</span>
                        <span class="vv-input-tip" ng-show="updateForm.identity.$dirty && updateForm.identity.$error.indentification">身份证号码格式不正确</span>
                    </div>
                </div>
                <div class="section-wide">
                    <div class="vv-input-group input-group-lg full-width">
                        <span class="vv-input-group-addon"><i class="vv vv-27 vv-password-new"></i></span>
                        <input type="password" class="form-control border-radius-large" name="password" ng-model="input.password" required ng-minlength=6 placeholder="请输入新密码,6位以上">
                        <span class="vv-input-tip" ng-show="updateForm.password.$dirty && updateForm.password.$invalid">密码必填，且不少于6位</span>
                    </div>
                </div>
                <div class="section-wide">
                    <div class="vv-input-group input-group-lg full-width">
                        <span class="vv-input-group-addon"><i class="vv vv-27 vv-password-new"></i></span>
                        <input type="password" class="form-control border-radius-large" name="password_1" ng-model="input.password_1" required ng-minlength=6 placeholder="请确认新密码,6位以上">
                        <span class="vv-input-tip" ng-show="updateForm.password_1.$dirty && input.password != input.password_1">两次输入的密码必须一致</span>
                    </div>
                </div>
            </div>
            <div class="vv-divide"></div>
            <div class="section">
                <button type="submit" class="btn btn-lg btn-primary block full-width" ng-disabled="(!(updateForm.password.$valid && input.password == input.password_1)) || updateForm.identify.$invalid">提交修改</button>
            </div>
        </form>
    </div>
</div>
